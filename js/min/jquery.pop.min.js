!function(t){var e=function(e,o){this.$element=t(e),this.$backdrop=null,this.options=o};e.DEFAULTS={animate:!0},e.prototype.show=function(t){t.load?this.loadUrl(t.load,this.showPop):this.showPop()},e.prototype.showPop=function(){var e=this;!e.$backdrop&&t(".pop-backdrop").length?e.$backdrop=t(".pop-backdrop"):e.$backdrop||(e.$backdrop=t("<div>",{"class":"pop-backdrop"}).hide().appendTo(document.body)),e.$element.parent().length||e.$element.appendTo(document.body),e.$backdrop.show(),e.$element.show(),e.$element.one("click","[data-close]",function(t){t.preventDefault(),e.hide()}),e.$element.on("click",function(t){t.target===t.currentTarget&&e.hide()}),setTimeout(t.proxy(function(){this.$backdrop.addClass("in").attr("aria-hidden",!1),this.$element.addClass("in").attr("aria-hidden",!1),this.$element.hasClass("pop-flex")&&t(window).trigger("resize")},e),0),t(document.body).addClass("pop-open")},e.prototype.loadUrl=function(e,o){t.get(e,t.proxy(function(e){this.$element.find(".pop-output").html(e),t.proxy(o,this)()},this))},e.prototype.flex=function(){var e=this.$element.find(".pop-dialog"),o=parseInt(e.css("margin-top"))||0;e.height(t(window).height()-2*o);var n=e.find(".pop-head").height()||0,i=e.find(".pop-submenu").height()||0;e.find(".pop-main").height(e.height()-n-i)},e.prototype.hide=function(){this.$backdrop.removeClass("in"),this.$element.removeClass("in"),setTimeout(t.proxy(function(){this.$backdrop.hide().attr("aria-hidden",!0),this.$element.hide().attr("aria-hidden",!0),t(document.body).removeClass("pop-open")},this),100),this.$element.off("click")},t.fn.pop=function(o,n){return this.each(function(){var i=t(this),p=i.data("wo.pop"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof o&&o),d=t.extend({},"object"==typeof n&&n);p||i.data("wo.pop",p=new e(this,a)),"string"==typeof o?p[o](d):a.show&&p.show(d)})},t(window).on("resize",function(){t(".pop-flex").each(function(){var o=t(this),n=o.data("wo.pop"),i=t.extend({},e.DEFAULTS,o.data(),"object"==typeof option&&option);n||o.data("wo.pop",n=new e(this,i)),n.flex()})}),t(window).trigger("resize")}(window.jQuery);